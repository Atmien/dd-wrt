diff -urN SDK_3_1_0_0/RT288x_SDK/source/linux-2.6.21.x/drivers/flash/flash_ioctl.h SDK_3_2_0_0/RT288x_SDK/source/linux-2.6.21.x//drivers/flash/flash_ioctl.h
--- SDK_3_1_0_0/RT288x_SDK/source/linux-2.6.21.x/drivers/flash/flash_ioctl.h	2008-08-06 05:27:41.000000000 +0200
+++ SDK_3_2_0_0/RT288x_SDK/source/linux-2.6.21.x//drivers/flash/flash_ioctl.h	2008-10-24 08:20:14.000000000 +0200
@@ -7,7 +7,11 @@
 #define FLASH_IOCTL_MII_MGR_GET		(0x04) 
 #define FLASH_IOCTL_MII_MGR_SET		(0x05) 
 
+#if defined (CONFIG_RT2880_FLASH_32M) && defined (CONFIG_RALINK_RT3052_MP2)
 #define FLASH_MAX_RW_SIZE		(0x20000)
+#else
+#define FLASH_MAX_RW_SIZE		(0x10000)
+#endif
 #define FLASH_DEVNAME			"flash0"
 
 enum op_status {
