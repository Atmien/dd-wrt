/*
 *  arch/arm/mach-cns3xxx/include/mach/board.h
 *
 *  Copyright (c) 2008 Cavium Networks 
 * 
 *  This file is free software; you can redistribute it and/or modify 
 *  it under the terms of the GNU General Public License, Version 2, as 
 *  published by the Free Software Foundation. 
 *
 *  This file is distributed in the hope that it will be useful, 
 *  but AS-IS and WITHOUT ANY WARRANTY; without even the implied warranty of 
 *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE, TITLE, or 
 *  NONINFRINGEMENT.  See the GNU General Public License for more details. 
 *
 *  You should have received a copy of the GNU General Public License 
 *  along with this file; if not, write to the Free Software 
 *  Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA or 
 *  visit http://www.gnu.org/licenses/. 
 *
 *  This file may also be available under a different license from Cavium. 
 *  Contact Cavium Networks for more information
 */

#ifndef __ASM_ARCH_BOARD_CNS3XXXH
#define __ASM_ARCH_BOARD_CNS3XXXH

/*
 * Cavium Networks CNS3XXX Linux Memory Map:
 *
 * Phy		Size		Virt		Description
 * =========================================================================
 *
 * 0x00000000	0x10000000(max)	PAGE_OFFSET	Alien RAM (??)
 *
 * 0x78000000	0x00400000	0xFFF09000	UART0
 *
 */

/*
 * Peripheral addresses
 */
#define CNS3XXX_FLASH0_BASE			0x10000000	/* Flash/SRAM Memory Bank 0 */
#define CNS3XXX_FLASH0_SIZE			SZ_128M

#define CNS3XXX_FLASH1_BASE			0x11000000	/* Flash/SRAM Memory Bank 1 */
#define CNS3XXX_FLASH1_SIZE			SZ_16M
#define CNS3XXX_FLASH2_BASE			0x12000000	/* Flash/SRAM Memory Bank 2 */
#define CNS3XXX_FLASH2_SIZE			SZ_16M
#define CNS3XXX_FLASH3_BASE			0x13000000	/* Flash/SRAM Memory Bank 3 */
#define CNS3XXX_FLASH3_SIZE			SZ_16M

#define CNS3XXX_DDR2SDRAM_BASE			0x20000000	/* DDR2 SDRAM Memory */

#define CNS3XXX_SPI_FLASH_BASE			0x60000000	/* SPI Serial Flash Memory */

#define CNS3XXX_SWITCH_BASE			0x70000000	/* Switch and HNAT Control */
#define CNS3XXX_SWITCH_BASE_VIRT		0xFFF00000

#define CNS3XXX_PPE_BASE			0x70001000	/* HANT  */
#define CNS3XXX_PPE_BASE_VIRT			0xFFF50000

#define CNS3XXX_EMBEDDED_SRAM_BASE		0x70002000	/* HANT Embedded SRAM */
#define CNS3XXX_EMBEDDED_SRAM_BASE_VIRT		0xFFF60000	 

#define CNS3XXX_SSP_BASE			0x71000000	/* Synchronous Serial Port - SPI/PCM/I2C */
#define CNS3XXX_SSP_BASE_VIRT			0xFFF01000

#define CNS3XXX_DMC_BASE			0x72000000	/* DMC Control (DDR2 SDRAM) */
#define CNS3XXX_DMC_BASE_VIRT			0xFFF02000

#define CNS3XXX_SMC_BASE			0x73000000	/* SMC Control */
#define CNS3XXX_SMC_BASE_VIRT			0xFFF03000

#define SMC_MEMC_STATUS_OFFSET			0x000
#define SMC_MEMIF_CFG_OFFSET			0x004
#define SMC_MEMC_CFG_SET_OFFSET			0x008
#define SMC_MEMC_CFG_CLR_OFFSET			0x00C
#define SMC_DIRECT_CMD_OFFSET			0x010
#define SMC_SET_CYCLES_OFFSET			0x014
#define SMC_SET_OPMODE_OFFSET			0x018
#define SMC_REFRESH_PERIOD_0_OFFSET		0x020
#define SMC_REFRESH_PERIOD_1_OFFSET		0x024
#define SMC_SRAM_CYCLES0_0_OFFSET		0x100
#define SMC_NAND_CYCLES0_0_OFFSET		0x100
#define SMC_OPMODE0_0_OFFSET			0x104
#define SMC_SRAM_CYCLES0_1_OFFSET		0x120
#define SMC_NAND_CYCLES0_1_OFFSET		0x120
#define SMC_OPMODE0_1_OFFSET			0x124
#define SMC_USER_STATUS_OFFSET			0x200
#define SMC_USER_CONFIG_OFFSET			0x204
#define SMC_ECC_STATUS_OFFSET			0x300
#define SMC_ECC_MEMCFG_OFFSET			0x304
#define SMC_ECC_MEMCOMMAND1_OFFSET		0x308
#define SMC_ECC_MEMCOMMAND2_OFFSET		0x30C
#define SMC_ECC_ADDR0_OFFSET			0x310
#define SMC_ECC_ADDR1_OFFSET			0x314
#define SMC_ECC_VALUE0_OFFSET			0x318
#define SMC_ECC_VALUE1_OFFSET			0x31C
#define SMC_ECC_VALUE2_OFFSET			0x320
#define SMC_ECC_VALUE3_OFFSET			0x324
#define SMC_PERIPH_ID_0_OFFSET			0xFE0
#define SMC_PERIPH_ID_1_OFFSET			0xFE4
#define SMC_PERIPH_ID_2_OFFSET			0xFE8
#define SMC_PERIPH_ID_3_OFFSET			0xFEC
#define SMC_PCELL_ID_0_OFFSET			0xFF0
#define SMC_PCELL_ID_1_OFFSET			0xFF4
#define SMC_PCELL_ID_2_OFFSET			0xFF8
#define SMC_PCELL_ID_3_OFFSET			0xFFC

#define CNS3XXX_GPIOA_BASE			0x74000000	/* GPIO port A */
#define CNS3XXX_GPIOA_BASE_VIRT			0xFFF04000

#define CNS3XXX_GPIOB_BASE			0x74800000	/* GPIO port B */
#define CNS3XXX_GPIOB_BASE_VIRT			0xFFF05000

#define CNS3XXX_RTC_BASE			0x75000000	/* Real Time Clock */
#define CNS3XXX_RTC_BASE_VIRT			0xFFF06000

#define RTC_SEC_OFFSET				0x00
#define RTC_MIN_OFFSET				0x04
#define RTC_HOUR_OFFSET				0x08
#define RTC_DAY_OFFSET				0x0C
#define RTC_SEC_ALM_OFFSET			0x10
#define RTC_MIN_ALM_OFFSET			0x14
#define RTC_HOUR_ALM_OFFSET			0x18
#define RTC_REC_OFFSET				0x1C
#define RTC_CTRL_OFFSET				0x20
#define RTC_INTR_STS_OFFSET			0x34

#define CNS3XXX_MISC_BASE			0x76000000	/* Misc Control */
#define CNS3XXX_MISC_BASE_VIRT			0xFFF07000	/* Misc Control */

#define CNS3XXX_PM_BASE				0x77000000	/* Power Management Control */
#define CNS3XXX_PM_BASE_VIRT			0xFFF08000

#define PM_CLK_GATE_OFFSET			0x00
#define PM_SOFT_RST_OFFSET			0x04
#define PM_HS_CFG_OFFSET			0x08
#define PM_CACTIVE_STA_OFFSET			0x0C
#define PM_PWR_STA_OFFSET			0x10
#define PM_SYS_CLK_CTRL_OFFSET			0x14
#define PM_PLL_LCD_I2S_CTRL_OFFSET		0x18
#define PM_PLL_HM_PD_OFFSET			0x1C

#define CNS3XXX_UART0_BASE			0x78000000	/* UART 0 */
#define CNS3XXX_UART0_BASE_VIRT			0xFFF09000

#define CNS3XXX_UART1_BASE			0x78400000	/* UART 1 */
#define CNS3XXX_UART1_BASE_VIRT			0xFFF0A000

#define CNS3XXX_UART2_BASE			0x78800000	/* UART 2 */
#define CNS3XXX_UART2_BASE_VIRT			0xFFF0B000

#define CNS3XXX_UART3_BASE			0x78C00000	/* UART 3 */
#define CNS3XXX_UART3_BASE_VIRT			0xFFF0C000

#define CNS3XXX_DMAC_BASE			0x79000000	/* Generic DMA Control */
#define CNS3XXX_DMAC_BASE_VIRT			0xFFF0D000

#define CNS3XXX_CORESIGHT_BASE			0x7A000000	/* CoreSight */
#define CNS3XXX_CORESIGHT_BASE_VIRT		0xFFF0E000

#define CNS3XXX_CRYPTO_BASE			0x7B000000	/* Crypto */
#define CNS3XXX_CRYPTO_BASE_VIRT		0xFFF0F000

#define CNS3XXX_I2S_BASE			0x7C000000	/* I2S */
#define CNS3XXX_I2S_BASE_VIRT			0xFFF10000

#define CNS3XXX_TIMER1_2_3_BASE			0x7C800000	/* Timer */
#define CNS3XXX_TIMER1_2_3_BASE_VIRT		0xFFF1D000
//#define CNS3XXX_TIMER1_2_3_BASE_VIRT		0xFFF10800

#define TIMER1_COUNTER_OFFSET			0x00
#define TIMER1_AUTO_RELOAD_OFFSET		0x04
#define TIMER1_MATCH_V1_OFFSET			0x08
#define TIMER1_MATCH_V2_OFFSET			0x0C

#define TIMER2_COUNTER_OFFSET			0x10
#define TIMER2_AUTO_RELOAD_OFFSET		0x14
#define TIMER2_MATCH_V1_OFFSET			0x18
#define TIMER2_MATCH_V2_OFFSET			0x1C

#define TIMER1_2_3_CONTROL_OFFSET		0x30
#define TIMER1_2_3_INTERRUPT_STATUS_OFFSET	0x34
#define TIMER1_2_3_INTERRUPT_MASK_OFFSET	0x38



#define TIMER1_2_CONTROL_OFFSET			0x30
#define TIMER1_2_INTERRUPT_STATUS_OFFSET	0x34
#define TIMER1_2_INTERRUPT_MASK_OFFSET		0x38

#define TIMER_FREERUN_OFFSET			0x40
#define TIMER_FREERUN_CONTROL_OFFSET		0x44

#define CNS3XXX_HCIE_BASE			0x7D000000	/* HCIE Control */
#if 0
#define CNS3XXX_HCIE_BASE_VIRT			0xFFF11000
#else
#define CNS3XXX_HCIE_BASE_VIRT			0xFFF30000
#endif

#define CNS3XXX_RAID_BASE			0x7E000000	/* RAID Control */
#define CNS3XXX_RAID_BASE_VIRT			0xFFF12000

#define CNS3XXX_AXI_IXC_BASE			0x7F000000	/* AXI IXC */
#define CNS3XXX_AXI_IXC_BASE_VIRT		0xFFF13000

#define CNS3XXX_CLCD_BASE			0x80000000	/* LCD Control */
#define CNS3XXX_CLCD_BASE_VIRT			0xFFF14000

#define CNS3XXX_USBOTG_BASE			0x81000000	/* USB OTG Control */
#define CNS3XXX_USBOTG_BASE_VIRT		0xFFF15000

#define CNS3XXX_USB_BASE			0x82000000	/* USB Host Control */
#define CNS3XXX_USB_BASE_VIRT			0xFFF16000

#define CNS3XXX_SATA2_BASE			0x83000000	/* SATA */
#define CNS3XXX_SATA2_SIZE			SZ_16M
#define CNS3XXX_SATA2_BASE_VIRT			0xFFF17000

#define CNS3XXX_CAMERA_BASE			0x84000000	/* Camera Interface */
#define CNS3XXX_CAMERA_BASE_VIRT		0xFFF18000

#define CNS3XXX_SDIO_BASE			0x85000000	/* SDIO */
#define CNS3XXX_SDIO_BASE_VIRT			0xFFF19000

#define CNS3XXX_I2S_TDM_BASE			0x86000000	/* I2S TDM */
#define CNS3XXX_I2S_TDM_BASE_VIRT		0xFFF1A000

#define CNS3XXX_2DG_BASE			0x87000000	/* 2D Graphic Control */
#define CNS3XXX_2DG_BASE_VIRT			0xFFF1B000

#define CNS3XXX_USB_OHCI_BASE			0x88000000	/* USB OHCI */
#define CNS3XXX_USB_OHCI_BASE_VIRT		0xFFF1C000

#define CNS3XXX_L2C_BASE			0x92000000	/* L2 Cache Control */
#define CNS3XXX_L2C_BASE_VIRT			0xFFF27000

#define CNS3XXX_PCIE0_MEM_BASE			0xA0000000	/* PCIe Port 0 IO/Memory Space */
#define CNS3XXX_PCIE0_MEM_BASE_VIRT		0xE0000000

#define CNS3XXX_PCIE0_HOST_BASE			0xAB000000	/* PCIe Port 0 RC Base */
#define CNS3XXX_PCIE0_HOST_BASE_VIRT		0xE1000000

#define CNS3XXX_PCIE0_IO_BASE			0xAC000000	/* PCIe Port 0 */
#define CNS3XXX_PCIE0_IO_BASE_VIRT		0xE2000000

#define CNS3XXX_PCIE0_CFG0_BASE			0xAD000000	/* PCIe Port 0 CFG Type 0 */
#define CNS3XXX_PCIE0_CFG0_BASE_VIRT		0xE3000000

#define CNS3XXX_PCIE0_CFG1_BASE			0xAE000000	/* PCIe Port 0 CFG Type 1 */
#define CNS3XXX_PCIE0_CFG1_BASE_VIRT		0xE4000000

#define CNS3XXX_PCIE0_MSG_BASE			0xAF000000	/* PCIe Port 0 Message Space */
#define CNS3XXX_PCIE0_MSG_BASE_VIRT		0xE5000000

#define CNS3XXX_PCIE1_MEM_BASE			0xB0000000	/* PCIe Port 1 IO/Memory Space */
#define CNS3XXX_PCIE1_MEM_BASE_VIRT		0xE8000000

#define CNS3XXX_PCIE1_HOST_BASE			0xBB000000	/* PCIe Port 1 RC Base */
#define CNS3XXX_PCIE1_HOST_BASE_VIRT		0xE9000000

#define CNS3XXX_PCIE1_IO_BASE			0xBC000000	/* PCIe Port 1 */
#define CNS3XXX_PCIE1_IO_BASE_VIRT		0xEA000000

#define CNS3XXX_PCIE1_CFG0_BASE			0xBD000000	/* PCIe Port 1 CFG Type 0 */
#define CNS3XXX_PCIE1_CFG0_BASE_VIRT		0xEB000000

#define CNS3XXX_PCIE1_CFG1_BASE			0xBE000000	/* PCIe Port 1 CFG Type 1 */
#define CNS3XXX_PCIE1_CFG1_BASE_VIRT		0xEC000000

#define CNS3XXX_PCIE1_MSG_BASE			0xBF000000	/* PCIe Port 1 Message Space */
#define CNS3XXX_PCIE1_MSG_BASE_VIRT		0xED000000

/*
 * Testchip peripheral and fpga gic regions
 */
//#define CNS3XXX_TC11MP_SCU_BASE			0x1F000000	/* IRQ, Test chip */
#define CNS3XXX_TC11MP_SCU_BASE			0x90000000	/* IRQ, Test chip */
#define CNS3XXX_TC11MP_SCU_BASE_VIRT		0xFF000000

//#define CNS3XXX_TC11MP_GIC_CPU_BASE		0x1F000100	/* Test chip interrupt controller CPU interface */
#define CNS3XXX_TC11MP_GIC_CPU_BASE		0x90000100	/* Test chip interrupt controller CPU interface */
#define CNS3XXX_TC11MP_GIC_CPU_BASE_VIRT	0xFF000100

//#define CNS3XXX_TC11MP_TWD_BASE			0x1F000600
#define CNS3XXX_TC11MP_TWD_BASE			0x90000600
#define CNS3XXX_TC11MP_TWD_BASE_VIRT		0xFF000600

//#define CNS3XXX_TC11MP_GIC_DIST_BASE		0x1F001000	/* Test chip interrupt controller distributor */
#define CNS3XXX_TC11MP_GIC_DIST_BASE		0x90001000	/* Test chip interrupt controller distributor */
#define CNS3XXX_TC11MP_GIC_DIST_BASE_VIRT	0xFF001000

//#define CNS3XXX_TC11MP_L220_BASE		0x1F002000	/* L220 registers */
#define CNS3XXX_TC11MP_L220_BASE		0x92002000	/* L220 registers */
#define CNS3XXX_TC11MP_L220_BASE_VIRT		0xFF002000

/*
 * Irqs
 */
#define IRQ_TC11MP_GIC_START			32

/*
 * ARM11 MPCore test chip interrupt sources (primary GIC on the test chip)
 */
#define IRQ_CNS3XXX_PMU		(IRQ_TC11MP_GIC_START + 0)
#define IRQ_CNS3XXX_SDIO	(IRQ_TC11MP_GIC_START + 1)
#define IRQ_CNS3XXX_L2CC	(IRQ_TC11MP_GIC_START + 2)
#define IRQ_CNS3XXX_RTC		(IRQ_TC11MP_GIC_START + 3)
#define IRQ_CNS3XXX_I2S		(IRQ_TC11MP_GIC_START + 4)
#define IRQ_CNS3XXX_PCM		(IRQ_TC11MP_GIC_START + 5)
#define IRQ_CNS3XXX_SPI		(IRQ_TC11MP_GIC_START + 6)
#define IRQ_CNS3XXX_I2C		(IRQ_TC11MP_GIC_START + 7)
#define IRQ_CNS3XXX_CIM		(IRQ_TC11MP_GIC_START + 8)
#define IRQ_CNS3XXX_GPU		(IRQ_TC11MP_GIC_START + 9)
#define IRQ_CNS3XXX_LCD		(IRQ_TC11MP_GIC_START + 10)
#define IRQ_CNS3XXX_GPIOA	(IRQ_TC11MP_GIC_START + 11)
#define IRQ_CNS3XXX_GPIOB	(IRQ_TC11MP_GIC_START + 12)
#define IRQ_CNS3XXX_UART0	(IRQ_TC11MP_GIC_START + 13)
#define IRQ_CNS3XXX_UART1	(IRQ_TC11MP_GIC_START + 14)
#define IRQ_CNS3XXX_UART2	(IRQ_TC11MP_GIC_START + 15)
#define IRQ_CNS3XXX_ARM11	(IRQ_TC11MP_GIC_START + 16)

#define IRQ_CNS3XXX_SW_STATUS	(IRQ_TC11MP_GIC_START + 17)
#define IRQ_CNS3XXX_SW_R0TXC	(IRQ_TC11MP_GIC_START + 18)
#define IRQ_CNS3XXX_SW_R0RXC	(IRQ_TC11MP_GIC_START + 19)
#define IRQ_CNS3XXX_SW_R0QE		(IRQ_TC11MP_GIC_START + 20)
#define IRQ_CNS3XXX_SW_R0QF		(IRQ_TC11MP_GIC_START + 21)
#define IRQ_CNS3XXX_SW_R1TXC	(IRQ_TC11MP_GIC_START + 22)
#define IRQ_CNS3XXX_SW_R1RXC	(IRQ_TC11MP_GIC_START + 23)
#define IRQ_CNS3XXX_SW_R1QE		(IRQ_TC11MP_GIC_START + 24)
#define IRQ_CNS3XXX_SW_R1QF		(IRQ_TC11MP_GIC_START + 25)
#define IRQ_CNS3XXX_SW_PPE		(IRQ_TC11MP_GIC_START + 26)

#define IRQ_CNS3XXX_CRYPTO		(IRQ_TC11MP_GIC_START + 27)
#define IRQ_CNS3XXX_HCIE			(IRQ_TC11MP_GIC_START + 28)
#define IRQ_CNS3XXX_PCIE0_DEVICE	(IRQ_TC11MP_GIC_START + 29)
#define IRQ_CNS3XXX_PCIE1_DEVICE	(IRQ_TC11MP_GIC_START + 30)
#define IRQ_CNS3XXX_USB_OTG		(IRQ_TC11MP_GIC_START + 31)
#define IRQ_CNS3XXX_USB_EHCI	(IRQ_TC11MP_GIC_START + 32)
#define IRQ_CNS3XXX_SATA			(IRQ_TC11MP_GIC_START + 33)
#define IRQ_CNS3XXX_RAID			(IRQ_TC11MP_GIC_START + 34)
#define IRQ_CNS3XXX_SMC				(IRQ_TC11MP_GIC_START + 35)

#define IRQ_CNS3XXX_DMAC_ABORT	(IRQ_TC11MP_GIC_START + 36)
#define IRQ_CNS3XXX_DMAC0		(IRQ_TC11MP_GIC_START + 37)
#define IRQ_CNS3XXX_DMAC1		(IRQ_TC11MP_GIC_START + 38)
#define IRQ_CNS3XXX_DMAC2		(IRQ_TC11MP_GIC_START + 39)
#define IRQ_CNS3XXX_DMAC3		(IRQ_TC11MP_GIC_START + 40)
#define IRQ_CNS3XXX_DMAC4		(IRQ_TC11MP_GIC_START + 41)
#define IRQ_CNS3XXX_DMAC5		(IRQ_TC11MP_GIC_START + 42)
#define IRQ_CNS3XXX_DMAC6		(IRQ_TC11MP_GIC_START + 43)
#define IRQ_CNS3XXX_DMAC7		(IRQ_TC11MP_GIC_START + 44)
#define IRQ_CNS3XXX_DMAC8		(IRQ_TC11MP_GIC_START + 45)
#define IRQ_CNS3XXX_DMAC9		(IRQ_TC11MP_GIC_START + 46)
#define IRQ_CNS3XXX_DMAC10	(IRQ_TC11MP_GIC_START + 47)
#define IRQ_CNS3XXX_DMAC11	(IRQ_TC11MP_GIC_START + 48)
#define IRQ_CNS3XXX_DMAC12	(IRQ_TC11MP_GIC_START + 49)
#define IRQ_CNS3XXX_DMAC13	(IRQ_TC11MP_GIC_START + 50)
#define IRQ_CNS3XXX_DMAC14	(IRQ_TC11MP_GIC_START + 51)
#define IRQ_CNS3XXX_DMAC15	(IRQ_TC11MP_GIC_START + 52)
#define IRQ_CNS3XXX_DMAC16	(IRQ_TC11MP_GIC_START + 53)
#define IRQ_CNS3XXX_DMAC17	(IRQ_TC11MP_GIC_START + 54)

#define IRQ_CNS3XXX_PCIE0_RC	(IRQ_TC11MP_GIC_START + 55)
#define IRQ_CNS3XXX_PCIE1_RC	(IRQ_TC11MP_GIC_START + 56)
#define IRQ_CNS3XXX_TIMER0		(IRQ_TC11MP_GIC_START + 57)
#define IRQ_CNS3XXX_TIMER1		(IRQ_TC11MP_GIC_START + 58)
#define IRQ_CNS3XXX_USB_OHCI	(IRQ_TC11MP_GIC_START + 59)
#define IRQ_CNS3XXX_TIMER2		(IRQ_TC11MP_GIC_START + 60)
#define IRQ_CNS3XXX_EXTERNAL_PIN0	(IRQ_TC11MP_GIC_START + 61)
#define IRQ_CNS3XXX_EXTERNAL_PIN1	(IRQ_TC11MP_GIC_START + 62)
#define IRQ_CNS3XXX_EXTERNAL_PIN2	(IRQ_TC11MP_GIC_START + 63)

#define NR_GIC_CNS3XXX		1


/*
 * Only define NR_IRQS if less than NR_IRQS_CNS3XXX
 */
#define NR_IRQS_CNS3XXX		(IRQ_TC11MP_GIC_START + 64)

#if !defined(NR_IRQS) || (NR_IRQS < NR_IRQS_CNS3XXX)
#undef NR_IRQS
#define NR_IRQS			NR_IRQS_CNS3XXX
#endif

#if !defined(MAX_GIC_NR) || (MAX_GIC_NR < NR_GIC_CNS3XXX)
#undef MAX_GIC_NR
#define MAX_GIC_NR		NR_GIC_CNS3XXX
#endif

#endif	/* __ASM_ARCH_BOARD_CNS3XXX_H */
